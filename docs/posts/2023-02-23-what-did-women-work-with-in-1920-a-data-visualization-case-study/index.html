<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Emma Skarstein: What did women work with in 1920?</title>

<meta property="description" itemprop="description" content="In this post I&#39;ll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using `ggplot2` I&#39;ll be making a bar chart with a curved bar to display the different occupations."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2023-02-23"/>
<meta property="article:created" itemprop="dateCreated" content="2023-02-23"/>
<meta name="article:author" content="Emma Skarstein"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Emma Skarstein: What did women work with in 1920?"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="In this post I&#39;ll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using `ggplot2` I&#39;ll be making a bar chart with a curved bar to display the different occupations."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Emma Skarstein"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Emma Skarstein: What did women work with in 1920?"/>
<meta property="twitter:description" content="In this post I&#39;ll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using `ggplot2` I&#39;ll be making a bar chart with a curved bar to display the different occupations."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["What did women work with in 1920?"]},{"type":"character","attributes":{},"value":["In this post I'll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using `ggplot2` I'll be making a bar chart with a curved bar to display the different occupations."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Emma Skarstein"]},{"type":"character","attributes":{},"value":["https://emmaskarstein.github.io"]}]}]},{"type":"character","attributes":{},"value":["02-23-2023"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","theme"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["postcards.css"]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["what-did-women-work-with-in-1920-a-data-visualization-case-study_files/anchor-4.2.2/anchor.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/bowser-1.9.3/bowser.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/distill-2.2.21/template.v2.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-10-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-11-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-12-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-13-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-13-2.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-6-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-8-1.png","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/header-attrs-2.17/header-attrs.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/jquery-3.6.0/jquery-3.6.0.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/jquery-3.6.0/jquery-3.6.0.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/jquery-3.6.0/jquery-3.6.0.min.map","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/popper-2.6.0/popper.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/tippy-6.2.7/tippy-bundle.umd.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/tippy-6.2.7/tippy-light-border.css","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/tippy-6.2.7/tippy.css","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/tippy-6.2.7/tippy.umd.min.js","what-did-women-work-with-in-1920-a-data-visualization-case-study_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.17/header-attrs.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"What did women work with in 1920?","description":"In this post I'll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using `ggplot2` I'll be making a bar chart with a curved bar to display the different occupations.","authors":[{"author":"Emma Skarstein","authorURL":"https://emmaskarstein.github.io","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2023-02-23T00:00:00.000+01:00","citationText":"Skarstein, 2023"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Emma Skarstein</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="https://github.com/emmaSkarstein">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="../../blog.html">BLOG</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>What did women work with in 1920?</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>In this post I’ll be looking at the occupations of the 11992 women who registered to vote in Boston in 1920. Using <code>ggplot2</code> I’ll be making a bar chart with a curved bar to display the different occupations.</p></p>
</div>

<div class="d-byline">
  Emma Skarstein <a href="https://emmaskarstein.github.io" class="uri">https://emmaskarstein.github.io</a> 
  
<br/>02-23-2023
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#get-the-data-and-setting-up" id="toc-get-the-data-and-setting-up">Get the data and setting up</a></li>
<li><a href="#considerations-in-grouping-the-occupations" id="toc-considerations-in-grouping-the-occupations">Considerations in grouping the occupations</a></li>
<li><a href="#a-preliminary-bar-chart" id="toc-a-preliminary-bar-chart">A preliminary bar chart</a></li>
<li><a href="#a-bent-bar-chart" id="toc-a-bent-bar-chart">A bent bar chart!</a></li>
<li><a href="#appendix-some-other-exploration-of-the-data" id="toc-appendix-some-other-exploration-of-the-data">Appendix: Some other exploration of the data</a>
<ul>
<li><a href="#birth-countries" id="toc-birth-countries">Birth countries</a></li>
<li><a href="#popular-and-rare-names" id="toc-popular-and-rare-names">Popular and rare names</a></li>
</ul></li>
</ul>
</nav>
</div>
<p>I became aware of the city of Boston’s Mary Eliza project through the <a href="https://www.data-is-plural.com/">Data is Plural</a> newsletter. The Mary Eliza project is transcribing 160 handwritten volumes of the General Registers of Women Voters from the City of Boston in 1920, and making all this data available to the public. This is such a rich and fascinating data set to look into! Here, I examine the reported jobs of these women, and through that I attempt to give some insight into what life was like for these women, more than 100 years ago.</p>
<h1 id="get-the-data-and-setting-up">Get the data and setting up</h1>
<p>I’ll be using the <code>tidyverse</code> package:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Would you like to follow along? You can download the data yourself <a href="https://data.boston.gov/dataset/1920-women-s-voter-register">from the project website</a>. Note that this dataset is updated continuously, so the dataset may have expanded since I downloaded it (January 18th 2023). I have the exact data I used <a href="https://raw.githubusercontent.com/emmaSkarstein/visualization_projects/master/Women_voters/womens-voter-registers.csv">on my GitHub repo</a>, in case you want to make sure you have the same data. All the code for this project is also <a href="https://github.com/emmaSkarstein/visualization_projects/tree/master/Women_voters">on GitHub</a>.</p>
<p>To begin with, I’ll load the data and clean the column names.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>voters_raw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"https://raw.githubusercontent.com/emmaSkarstein/visualization_projects/master/Women_voters/womens-voter-registers.csv"</span><span class='op'>)</span></span>
<span><span class='va'>voters</span> <span class='op'>&lt;-</span> <span class='va'>voters_raw</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'>janitor</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/janitor/man/clean_names.html'>clean_names</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h1 id="considerations-in-grouping-the-occupations">Considerations in grouping the occupations</h1>
<p>So what I really want to look closer at for this project are the recorded occupations. We can do a quick count of the top ones:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>occupations</span> <span class='op'>&lt;-</span> <span class='va'>voters</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>occupation</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> </span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>occupations</span>, <span class='fl'>15</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           occupation    n
1           Housewife 3939
2             At home  715
3         Housekeeper  598
4               Clerk  455
5        Stenographer  330
6           housewife  286
7          Bookkeeper  218
8             At Home  207
9                None  207
10          Housework  203
11               &lt;NA&gt;  180
12 Married, Housewife  158
13            Teacher  156
14          Secretary  154
15              Nurse  143</code></pre>
</div>
<p>Just like with the countries, I already see some things I would like to clean up here, but we need to be careful to not make incorrect assumptions when working on this historical data. However, there are some things I think we can safely assume. Let’s print out a longer list of just the occupations without the counts to get a better idea of what we will need to do:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>occupations</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span>, <span class='fl'>1</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>  [1] &quot;Housewife&quot;            &quot;At home&quot;             
  [3] &quot;Housekeeper&quot;          &quot;Clerk&quot;               
  [5] &quot;Stenographer&quot;         &quot;housewife&quot;           
  [7] &quot;Bookkeeper&quot;           &quot;At Home&quot;             
  [9] &quot;None&quot;                 &quot;Housework&quot;           
 [11] NA                     &quot;Married, Housewife&quot;  
 [13] &quot;Teacher&quot;              &quot;Secretary&quot;           
 [15] &quot;Nurse&quot;                &quot;H.W.&quot;                
 [17] &quot;Dressmaker&quot;           &quot;at home&quot;             
 [19] &quot;Saleslady&quot;            &quot;Telephone Operator&quot;  
 [21] &quot;Married&quot;              &quot;Single&quot;              
 [23] &quot;Married\nHousewife&quot;   &quot;Laundress&quot;           
 [25] &quot;clerk&quot;                &quot;married, housewife&quot;  
 [27] &quot;Operator&quot;             &quot;Waitress&quot;            
 [29] &quot;housewife, married&quot;   &quot;Cashier&quot;             
 [31] &quot;Domestic&quot;             &quot;Milliner&quot;            
 [33] &quot;Matron&quot;               &quot;house-wife&quot;          
 [35] &quot;Seamstress&quot;           &quot;Stitcher&quot;            
 [37] &quot;Tel. operator&quot;        &quot;House-wife&quot;          
 [39] &quot;Student&quot;              &quot;Telephone operator&quot;  
 [41] &quot;Cook&quot;                 &quot;at Home&quot;             
 [43] &quot;Widow&quot;                &quot;Maid&quot;                
 [45] &quot;School teacher&quot;       &quot;Married, housewife&quot;  
 [47] &quot;Saleswoman&quot;           &quot;Forelady&quot;            
 [49] &quot;Book-keeper&quot;          &quot;Elevator operator&quot;   
 [51] &quot;none&quot;                 &quot;Book keeper&quot;         
 [53] &quot;housekeeper&quot;          &quot;Packer&quot;              
 [55] &quot;Typist&quot;               &quot;Machine operator&quot;    
 [57] &quot;stenographer&quot;         &quot;Artist&quot;              
 [59] &quot;Hairdresser&quot;          &quot;Inspector&quot;           
 [61] &quot;Social worker&quot;        &quot;unemployed&quot;          
 [63] &quot;Bookbinder&quot;           &quot;married, Housewife&quot;  
 [65] &quot;Buyer&quot;                &quot;Manager&quot;             
 [67] &quot;Box maker&quot;            &quot;House-keeper&quot;        
 [69] &quot;Librarian&quot;            &quot;nurse&quot;               
 [71] &quot;Physician&quot;            &quot;saleslady&quot;           
 [73] &quot;Accountant&quot;           &quot;bookkeeper&quot;          
 [75] &quot;Graduate nurse&quot;       &quot;house keeper&quot;        
 [77] &quot;School Teacher&quot;       &quot;dressmaker&quot;          
 [79] &quot;married&quot;              &quot;Musician&quot;            
 [81] &quot;Trained nurse&quot;        &quot;Bookeeper&quot;           
 [83] &quot;laundress&quot;            &quot;Storekeeper&quot;         
 [85] &quot;Boarding&quot;             &quot;Tailoress&quot;           
 [87] &quot;Bank clerk&quot;           &quot;Box Maker&quot;           
 [89] &quot;Companion&quot;            &quot;Housewife, Married&quot;  
 [91] &quot;Lodging house keeper&quot; &quot;Machine Operator&quot;    
 [93] &quot;Music teacher&quot;        &quot;Private secretary&quot;   
 [95] &quot;Retired&quot;              &quot;Shoe worker&quot;         
 [97] &quot;teacher&quot;              &quot;Auditor&quot;             
 [99] &quot;Brushmaker&quot;           &quot;Cherry picker&quot;       </code></pre>
</div>
<p>There are some things to note here:</p>
<ul>
<li><strong>Compound words</strong>: “bookkeeper” vs “book keeper” vs “book-keeper”, the same goes for a few other words, “house keeper”, “book binder”, “house wife”, etc.</li>
<li><strong>Capitalization</strong>: “At home” vs “at home”</li>
<li><strong>Abbreviations</strong>: “tel. operator”, “h.w.”</li>
<li><strong>“woman” versus “lady”</strong>: “saleslady” vs “saleswoman”, and some other titles as well</li>
<li><strong>“maker” versus “making”</strong>: any occupation ending with “-making” typically also had some cases of being specified with “-making” instead, e.g “dressmaker” vs “dressmaking”</li>
</ul>
<p>The above list is pretty much just a question of spelling, and I don’t think I’m making any bold assumptions when I change these to be consistent. However, there are some other changes I am a bit less certain about that I will nonetheless make for the sake of my visualization:</p>
<ul>
<li>Married or not? In many cases, they have “married” as a part of their occupational status, which isn’t relevant for my purpose. However, what does it mean if they only have “married” listed as their occupation? I have grouped this together with “housewife”, which I think is ok, but I might be wrong.</li>
<li>A housewife in other words: In addition to grouping “married” and all the various spellings of “housewife” as “housewife”, I’m also assuming that “at home” and “house work” means the same thing. However, the way I understand it “housekeeper” is not the same, as they are someone doing house work in someone else’s home.</li>
<li>A housekeeper in other words: I also grouped “domestic” together with housekeeper.</li>
<li>Nurses: There are a few different titles related to nurses. I made a decision to group together everything with the word “nurse”, though this is likely removing some nuances. Since the numbers are fairly small I feel it was ok.</li>
<li>Clerks: The same goes for anything clerk-related.</li>
</ul>
<p>In order to make all these groupings and adjustments, I used the <code>case_when()</code> function from <code>dplyr</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>occupations_clean</span> <span class='op'>&lt;-</span> <span class='va'>voters</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>occupation <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='va'>occupation</span><span class='op'>)</span>, <span class='co'># everything lowercase</span></span>
<span>         occupation <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"-"</span>, <span class='st'>""</span>, <span class='va'>occupation</span><span class='op'>)</span>, <span class='co'># remove all hyphens</span></span>
<span>         occupation <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"\\[|\\]"</span>, <span class='st'>""</span>, <span class='va'>occupation</span><span class='op'>)</span>, <span class='co'># remove all brackets</span></span>
<span>         occupation <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Not given"</span>, </span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(hous.*wife)|(h. ?w)|(at home)|(^married$)|(house.*work)|(^home$)"</span>, </span>
<span>                 <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"housewife"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(telephone)|(tel. operator)|(^.?phone)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"telephone operator"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(^m.*ch.*operat)|(operator machine)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"machine operator"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"switch.*board"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"switchboard operator"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(dress).*(mak)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"dressmaker"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"sten"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"stenographer"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"boo.*keep"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"bookkeeper"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(house.*keep)|(domestic)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"housekeeper"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"book.*binder"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"bookbinder"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"box.*maker"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"box maker"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"brush.*maker"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"brush maker"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"nurse"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"nurse"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"store.*keeper"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"storekeeper"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(( )|^)(hair)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"hairdresser"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"telegraph"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"telegrapher"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"candy"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"candy worker"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"sales"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"saleslady"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"laund"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"laundress"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"fore"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"forelady"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(office work)|(office assistant)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"office work"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"piano"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"piano teacher"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"school.*teacher"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"teacher"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"buyer"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"buyer"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"compt"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"comptometer operator"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"secretary"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"secretary"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(^sew)|(seamstress)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"seamstress"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"(milliner)|(hat)"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"hatmaker"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"elevator"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"elevator operator"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"physician"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"physician"</span>,</span>
<span>           <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"cler"</span>, <span class='va'>occupation</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"clerk"</span>,</span>
<span>           <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>occupation</span><span class='op'>)</span>,</span>
<span>         occupation <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_lump.html'>fct_lump_min</a></span><span class='op'>(</span><span class='va'>occupation</span>, min <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>,</span>
<span>         occupation <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>toupper</a></span><span class='op'>(</span><span class='va'>occupation</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>occupation</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>order <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>.</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>This was very good practice in regular expressions! My workflow for discovering all the necessary changes and how to capture them as concisely as possible in a regular expression consisted of both manual searches in <code>View()</code> in RStudio, as well as lots of testing in (regex101.com)[regex101.com] (what an amazing resource!). I would write a list of all the various spellings of an occupation in regex101.com, and then try to come up with an appropriate regular expression to capture all of them. I haven’t worked a ton with regular expressions before, so I suspect that some of these could have been done better, but I definitely learned quite a bit from this. It was always a challenge to make sure not to include something by mistake, for instance I thought I would just search for anything containing “hair” and recode that as hairdresser, but just searching for “hair” would also select “chairwoman”, which was not what I wanted!</p>
<p>I also made the decision to group together all the occupations that came up six times or less into “other”. Though they were definitely interesting to look at! I for sure think it is possible to group the occupations a bit more, I put more than 500 unique entries into my “other” category, but after scrolling through them I think I at least managed to pick out the ones that would make a significant impact in my visualization.</p>
<h1 id="a-preliminary-bar-chart">A preliminary bar chart</h1>
<p>I decided early on that I wanted to make this into a bar chart to make the sizes of the different occupations clear. But a simple bar-chart of this would look something like this:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>occupations_clean</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>occupation</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-6-1.png" width="768" /></p>
</div>
<p>This is fine, but the size of the “housewife” category kind of masks the other categories. Is there some way of shifting the focus to the other categories while still displaying the size of the housewife-category? This made me think of some of the visualizations by W.E.B Du Bois, where I remembered seeing a “bent” bar chart, similar to a normal bar chart but with one of the bars being folded.</p>
<h1 id="a-bent-bar-chart">A bent bar chart!</h1>
<p>When I looked it up I found that Du Bois has a few different data portraits of this type, for instance Plate 17 and Plate 26, shown below. Note that Plate 26 also displays occupations!</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-7"></span>
<img src="https://emmaskarstein.github.io/images/plate17.jpg" alt="caption" width="49%" height="20%" /><img src="https://emmaskarstein.github.io/images/plate26.jpg" alt="caption" width="49%" height="20%" />
<p class="caption">
Figure 1: caption
</p>
</div>
</div>
<p>There is, as far as I know, no built-in way to do this in <code>ggplot2</code>. Originally I was thinking it would be really cool to break the bar and then let it go downwards at 90 degrees, maybe even breaking again towards the bottom, almost like a frame. Byt since the y-axis here is different from the x-axis, I would need to be very careful that the length was correct, and I think that will need to be a project for another time. To keep it manageable this time I decided to bend the bar 180 degrees.</p>
<p>To make the curve itself, I used <code>geom_curve()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span>, y <span class='op'>=</span> <span class='fl'>1</span>, xend <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>1</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span>, </span>
<span>             curvature <span class='op'>=</span> <span class='fl'>1.4</span>, linewidth <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<p>It took some tweaking to find the correct curvature to make the transition between the curve and the bar look smooth, but evetually <code>curvature = 1.4</code> seemed to do the trick.</p>
<p>I decided to break the housewife-bar into three. So first, I need to find the length of each of the sub-segments by just dividing the total number in three. I also actually make this the number of housewives in the <code>occupations_clean</code> data set, so the first bar will be generated the same way as all the other bars, and then I add the two other sub-sections with <code>geom_segment()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>n_housewives</span> <span class='op'>&lt;-</span> <span class='va'>occupations_clean</span><span class='op'>[</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>]</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='va'>n_housewives_div3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>n_housewives</span><span class='op'>/</span><span class='fl'>3</span><span class='op'>)</span></span>
<span><span class='va'>occupations_clean</span><span class='op'>[</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>n_housewives_div3</span> <span class='co'># Change the number of housewives to a third.</span></span>
<span></span>
<span><span class='va'>n_occs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>occupations_clean</span><span class='op'>)</span> <span class='co'># Number of occupations</span></span>
<span><span class='va'>bar_width</span> <span class='op'>&lt;-</span> <span class='fl'>1.5</span> <span class='co'># Width of the bars</span></span>
<span></span>
<span><span class='co'># Adding this in order to place the text correctly later on:</span></span>
<span><span class='va'>occupations_clean</span><span class='op'>$</span><span class='va'>text_position_y</span> <span class='op'>&lt;-</span> <span class='va'>n_occs</span> <span class='op'>-</span> <span class='op'>(</span><span class='va'>occupations_clean</span><span class='op'>$</span><span class='va'>order</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>occupations_clean</span><span class='op'>$</span><span class='va'>text_position_y</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>n_occs</span> <span class='op'>+</span> <span class='fl'>2</span></span></code></pre>
</div>
</div>
<p>To make everything look the same I actually use <code>geom_segment()</code> for all the “normal” bars as well instead of <code>geom_col()</code>. So, our initial plot with only the normal bars looks like this:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>occupations_plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>occupations_clean</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='va'>n</span>, </span>
<span>                   y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>occupation</span>, <span class='va'>n</span><span class='op'>)</span>, yend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>occupation</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span></span>
<span><span class='va'>occupations_plot</span></span></code></pre>
</div>
<p><img src="what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-10-1.png" width="768" /></p>
</div>
<p>Though here the housewives-bar is actually just a third of what it should be. I then add the curves and segments, and expand the y-axis so the bent bar will be visible:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>occupations_plot</span> <span class='op'>&lt;-</span> <span class='va'>occupations_plot</span> <span class='op'>+</span></span>
<span>  <span class='co'># Bottom curve, right side</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, y <span class='op'>=</span> <span class='va'>n_occs</span>, xend <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span>, </span>
<span>                 colour <span class='op'>=</span> <span class='st'>"black"</span>, curvature <span class='op'>=</span> <span class='fl'>1.4</span>, linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Middle segment</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Top curve, left side</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span><span class='op'>)</span>, </span>
<span>             colour <span class='op'>=</span> <span class='st'>"black"</span>, curvature <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.4</span>, linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='fl'>.05</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>occupations_plot</span></span></code></pre>
</div>
<p><img src="what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-11-1.png" width="768" /></p>
</div>
<p>Nice! That wasn’t too tricky! Now for adding annotations, and beautifying everything.</p>
<p>I want to highlight some of the bars for emphasis, in this case I prefer doing that by defining a separate color column in the dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>col_housewife</span> <span class='op'>&lt;-</span> <span class='st'>"#191919"</span></span>
<span><span class='va'>occupations_clean</span> <span class='op'>&lt;-</span> <span class='va'>occupations_clean</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>bar_color <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>occupation</span> <span class='op'>==</span> <span class='st'>"HOUSEWIFE"</span> <span class='op'>~</span> <span class='va'>col_housewife</span>,</span>
<span>                               <span class='va'>occupation</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> </span>
<span>                                 <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NONE"</span>, <span class='st'>"UNEMPLOYED"</span>, </span>
<span>                                   <span class='st'>"SINGLE"</span>, <span class='st'>"NOT GIVEN"</span>, <span class='st'>"OTHER"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"grey86"</span>,</span>
<span>                                <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"#D2042D"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_opts.html'>showtext_opts</a></span><span class='op'>(</span>dpi <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>f1</span> <span class='op'>&lt;-</span> <span class='st'>"Cabin"</span> <span class='co'># Title font</span></span>
<span><span class='va'>f2</span> <span class='op'>&lt;-</span> <span class='st'>"Cabin"</span> <span class='co'># Body text font</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='va'>f1</span>, family <span class='op'>=</span> <span class='va'>f1</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='va'>f2</span>, family <span class='op'>=</span> <span class='va'>f2</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>col_text</span> <span class='op'>&lt;-</span> <span class='st'>"#191919"</span></span>
<span><span class='va'>col_bg</span> <span class='op'>&lt;-</span> <span class='st'>"#f9f9f7"</span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>occupations_clean</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Main bars</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='va'>n</span>, </span>
<span>                   y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>occupation</span>, <span class='va'>n</span><span class='op'>)</span>, yend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>occupation</span>, <span class='va'>n</span><span class='op'>)</span>,</span>
<span>                   color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/AsIs.html'>I</a></span><span class='op'>(</span><span class='va'>bar_color</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Bottom curve, right side</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, xend <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, </span>
<span>                 y <span class='op'>=</span> <span class='va'>n_occs</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>, </span>
<span>                 color <span class='op'>=</span> <span class='va'>col_housewife</span><span class='op'>)</span>, </span>
<span>                 curvature <span class='op'>=</span> <span class='fl'>1.4</span>, linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Middle segment</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                   y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>,</span>
<span>                   color <span class='op'>=</span> <span class='va'>col_housewife</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Top curve, left side</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                 y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>1</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span>,</span>
<span>                 color <span class='op'>=</span> <span class='va'>col_housewife</span><span class='op'>)</span>, </span>
<span>             curvature <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.4</span>, linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n_housewives_div3</span>, xend <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                   y <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='va'>n_occs</span><span class='op'>+</span><span class='fl'>2</span>,</span>
<span>                   color <span class='op'>=</span> <span class='va'>col_housewife</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='va'>bar_width</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='fl'>.05</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Number labels</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>30</span>, y <span class='op'>=</span> <span class='va'>text_position_y</span>, label <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>            size <span class='op'>=</span> <span class='fl'>2</span>, family <span class='op'>=</span> <span class='va'>f2</span>, color <span class='op'>=</span> <span class='va'>col_text</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Add a little buffer of each side of the x-axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2300</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Don't remove stuff outside the border of the plot</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span>geom <span class='op'>=</span> <span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2300</span>, y <span class='op'>=</span> <span class='fl'>48</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, family <span class='op'>=</span> <span class='va'>f1</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, color <span class='op'>=</span> <span class='va'>col_text</span>, size <span class='op'>=</span> <span class='fl'>6</span>,</span>
<span>           label <span class='op'>=</span> <span class='st'>"CHERRY PICKERS\n AND CHOCOLATE DIPPERS"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span>geom <span class='op'>=</span> <span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2300</span>, y <span class='op'>=</span> <span class='fl'>42</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, family <span class='op'>=</span> <span class='va'>f1</span>, color <span class='op'>=</span> <span class='va'>col_text</span>, size <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span>           label <span class='op'>=</span> <span class='st'>"The most common occupations among 11992 of the first\n women who signed up to vote in Boston in 1920."</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>caption <span class='op'>=</span> <span class='st'>"Graphics: Emma Skarstein  |  Source: The Mary Eliza Project"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>20</span>, family <span class='op'>=</span> <span class='va'>f2</span>, color <span class='op'>=</span> <span class='va'>col_text</span><span class='op'>)</span>,</span>
<span>        plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>6</span>, family <span class='op'>=</span> <span class='va'>f2</span>, color <span class='op'>=</span> <span class='va'>col_text</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>6</span>, color <span class='op'>=</span> <span class='va'>col_text</span><span class='op'>)</span>,</span>
<span>        axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        panel.grid <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>col_bg</span>, color <span class='op'>=</span> <span class='va'>col_bg</span><span class='op'>)</span>,</span>
<span>        plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>col_bg</span>, color <span class='op'>=</span> <span class='va'>col_bg</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>20</span>, <span class='fl'>20</span>, <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="what-did-women-work-with-in-1920-a-data-visualization-case-study_files/figure-html5/unnamed-chunk-13-1.png" width="528" data-distill-preview=1 /></p>
</div>
<h1 id="appendix-some-other-exploration-of-the-data">Appendix: Some other exploration of the data</h1>
<p>This is such a rich dataset, I wanted to take a quick look at some of the other information there as well.</p>
<h2 id="birth-countries">Birth countries</h2>
<p>First of all, I would definitely recommend just scrolling through this dataset, I could spend hours just looking at all the individual entries!</p>
<p>We can also do some simple summaries, for example, what are the birth countries of these women?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>countries</span> <span class='op'>&lt;-</span> <span class='va'>voters</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>country_of_birth</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span><span class='va'>countries</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>15</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>      country_of_birth    n
1        United States 9559
2               Canada  823
3              Ireland  780
4              England  213
5               Russia  102
6                 &lt;NA&gt;   98
7                Italy   77
8             Scotland   77
9               Sweden   67
10             Germany   62
11              Norway   17
12 British West Indies   16
13              France   15
14             Austria    8
15             Denmark    8</code></pre>
</div>
<p>Unsurprisingly a majority is born in the US, but there are quite a few immigrants as well. We can print all of them without the counts to save space:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>countries</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code> [1] &quot;United States&quot;          &quot;Canada&quot;                
 [3] &quot;Ireland&quot;                &quot;England&quot;               
 [5] &quot;Russia&quot;                 NA                      
 [7] &quot;Italy&quot;                  &quot;Scotland&quot;              
 [9] &quot;Sweden&quot;                 &quot;Germany&quot;               
[11] &quot;Norway&quot;                 &quot;British West Indies&quot;   
[13] &quot;France&quot;                 &quot;Austria&quot;               
[15] &quot;Denmark&quot;                &quot;Belgium&quot;               
[17] &quot;Switzerland&quot;            &quot;Wales&quot;                 
[19] &quot;Poland&quot;                 &quot;West Indies&quot;           
[21] &quot;[Canada]&quot;               &quot;Armenia&quot;               
[23] &quot;Azores&quot;                 &quot;China&quot;                 
[25] &quot;Danish West Indies&quot;     &quot;Finland&quot;               
[27] &quot;Great Britain&quot;          &quot;Holland&quot;               
[29] &quot;Nova Scotia&quot;            &quot;Portugal&quot;              
[31] &quot;Russian Poland&quot;         &quot;South Wales&quot;           
[33] &quot;Turkey&quot;                 &quot;[see note]&quot;            
[35] &quot;Armenia (Turkey)&quot;       &quot;At sea&quot;                
[37] &quot;Austria Czechoslovakia&quot; &quot;Austria Hungary&quot;       
[39] &quot;Bohemia&quot;                &quot;Chile&quot;                 
[41] &quot;Cuba&quot;                   &quot;German&quot;                
[43] &quot;Hungary&quot;                &quot;Jamaica&quot;               
[45] &quot;Lithuania&quot;              &quot;Massachusetts&quot;         
[47] &quot;Newfoundland&quot;           &quot;North Germany&quot;         
[49] &quot;Northern Ireland&quot;       &quot;Norway Sweden&quot;         
[51] &quot;Poland-Russia&quot;          &quot;Romania&quot;               
[53] &quot;Russia Poland&quot;          &quot;South Africa&quot;          
[55] &quot;Spain&quot;                  &quot;Syria&quot;                 
[57] &quot;Untied States&quot;          &quot;Vermont&quot;               </code></pre>
</div>
<p>Interesting! If we were to do some analysis based on this I think we could do some further cleaning here, though we need to be careful about making assumptions when working with historical data. For instance, I was thinking that I would change Newfoundland to Canada, but turns out Newfoundland wasn’t a part of Canada until 1949! Also, Norway separated from Sweden in 1905, but the one person who wrote Norway Sweden as their country of birth was probably born before then, when they were still a union. Also, apparently Vermont was it’s own republic from 1777 to 1791, but I’m guessing this person wasn’t born in that time period. Maybe it was a political statement? But I suppose we could assume that “Russian Poland”, “Russia Poland” and “Poland-Russia” are referring to the same place?</p>
<h2 id="popular-and-rare-names">Popular and rare names</h2>
<p>I also think name trends are really interesting, so I am curious about the most popular names:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>names</span> <span class='op'>&lt;-</span> <span class='va'>voters</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/separate.html'>separate</a></span><span class='op'>(</span><span class='va'>name</span>, into <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"first"</span>, <span class='st'>"rest"</span><span class='op'>)</span>, sep <span class='op'>=</span> <span class='st'>"\\s"</span>, extra <span class='op'>=</span> <span class='st'>"merge"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>first</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>names</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>       first    n
1       Mary 1618
2   Margaret  614
3  Elizabeth  436
4      Annie  403
5  Catherine  340
6      Alice  295
7      Helen  292
8       Anna  271
9      Sarah  206
10     Ellen  191</code></pre>
</div>
<p>These are maybe not so surprising. We can look at a sample of the least common names:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1920</span><span class='op'>)</span></span>
<span><span class='va'>special_names</span> <span class='op'>&lt;-</span> <span class='va'>names</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>n</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>random_rows</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>special_names</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span></span>
<span><span class='va'>special_names</span><span class='op'>[</span><span class='va'>random_rows</span>, <span class='fl'>1</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>  [1] &quot;Chrystal&quot;     &quot;Susanne&quot;      &quot;Avis&quot;         &quot;Harriott&quot;    
  [5] &quot;Youtha&quot;       &quot;Lorenna&quot;      &quot;Florance&quot;     &quot;Nichols&quot;     
  [9] &quot;[Nano]&quot;       &quot;Carmela&quot;      &quot;Orrie&quot;        &quot;Rowena&quot;      
 [13] &quot;Lorana&quot;       &quot;Imogen&quot;       &quot;Hanorah&quot;      &quot;Alvania&quot;     
 [17] &quot;Missouri&quot;     &quot;Palmira&quot;      &quot;Jessemine&quot;    &quot;Audrey&quot;      
 [21] &quot;Juliet&quot;       &quot;Reyda&quot;        &quot;Winnie&quot;       &quot;Mignonette&quot;  
 [25] &quot;Campbell&quot;     &quot;Neotah&quot;       &quot;Catharin&quot;     &quot;Bride&quot;       
 [29] &quot;Nicoline&quot;     &quot;Margarite&quot;    &quot;Corilla&quot;      &quot;[Malhilata?]&quot;
 [33] &quot;Eloise&quot;       &quot;Ursuline&quot;     &quot;Abigale&quot;      &quot;Vyola&quot;       
 [37] &quot;Loulie&quot;       &quot;Lotty&quot;        &quot;Letha&quot;        &quot;Freda&quot;       
 [41] &quot;Mal&quot;          &quot;Jenette&quot;      &quot;Lera&quot;         &quot;Albena&quot;      
 [45] &quot;Latitia&quot;      &quot;E.D.&quot;         &quot;Argentina&quot;    &quot;Aimee&quot;       
 [49] &quot;Mannie&quot;       &quot;Hilma&quot;        &quot;Robena&quot;       &quot;Olie&quot;        
 [53] &quot;Alethia&quot;      &quot;Minne&quot;        &quot;Mahala&quot;       &quot;Tema&quot;        
 [57] &quot;Vena&quot;         &quot;Patty&quot;        &quot;Katheryne&quot;    &quot;Hilla&quot;       
 [61] &quot;Nanie&quot;        &quot;Seraph&quot;       &quot;Georgette&quot;    &quot;Cera&quot;        
 [65] &quot;Luzerne&quot;      &quot;Vida&quot;         &quot;Metta&quot;        &quot;Elinore&quot;     
 [69] &quot;Beissie&quot;      &quot;Beata&quot;        &quot;Rosabelle&quot;    &quot;Stephanie&quot;   
 [73] &quot;Ermina&quot;       &quot;India&quot;        &quot;Minnia&quot;       &quot;Monica&quot;      
 [77] &quot;Tena&quot;         &quot;Yettie&quot;       &quot;Lovetta&quot;      &quot;Eulalie&quot;     
 [81] &quot;Tryphena&quot;     &quot;Meta&quot;         &quot;Raffaelle&quot;    &quot;Leta&quot;        
 [85] &quot;Matildia&quot;     &quot;Clifford&quot;     &quot;[Mattie]&quot;     &quot;Eleanore&quot;    
 [89] &quot;Louies&quot;       &quot;Mercy&quot;        &quot;Diana&quot;        &quot;Pearle&quot;      
 [93] &quot;Henny&quot;        &quot;Elberta&quot;      &quot;Filomena&quot;     &quot;Hila&quot;        
 [97] &quot;Wanda&quot;        &quot;Tillie&quot;       &quot;Bluette&quot;      &quot;Eleana&quot;      </code></pre>
</div>
<p>I love this! I suspect some of these may be misspelled, but that is just the joy of historical data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
