[
  {
    "path": "posts/2021-10-28-ways-of-visualizing-missing-data/",
    "title": "Ways of visualizing missing data",
    "description": "When recently looking at a data set with a lot of missing data I tried out a few different ways of quickly summarizing the missingness in the different variables. Here is a brief guide to the visualizations I found the most useful!",
    "author": [
      {
        "name": "Emma Skarstein",
        "url": "https://emmaskarstein.github.io"
      }
    ],
    "date": "2021-10-28",
    "categories": [],
    "contents": "\nFor this demonstration, we will borrow datasets from the package mice.\n\n\nShow code\n\nlibrary(mice)\nlibrary(tidyverse)\nlibrary(patchwork) # Combining plots\nlibrary(showtext) # Font\nlibrary(ggthemes) # Color palettes (I use the canva palettes here)\nlibrary(naniar) # Upset plots for missing values in ggplot2\nlibrary(eulerr) # Euler diagrams, proportional to size\nlibrary(ggforce) # Ellipses in ggplot\nlibrary(gt) # Great tables\nlibrary(gtExtras) # Extra stuff for the tables\nlibrary(scales) # For wrapping axis text\nlibrary(paletteer) # color palettes (I used a fish one)\n\n\n\nFirst example: Mammal sleep\nOur first data set is a set of various sleep characteristics of 62 mammals.\n\n\nShow code\n\ndata(mammalsleep)\n\ndata <- mammalsleep\n\nbetter_names <- c(Species = \"species\", Body_weight = \"bw\", Brain_weight = \"brw\", \n                  Slow_wave_sleep = \"sws\", Paradoxical_sleep = \"ps\", \n                  Total_sleep = \"ts\", Maximum_life_span = \"mls\", \n                  Gestation_time = \"gt\", Predation_index = \"pi\", \n                  Sleep_exposure_index = \"sei\", Overall_danger_index = \"odi\")\n\ndata <- data %>% rename(all_of(better_names))\nnames(data) <- gsub(\"_\", \" \", names(data), fixed=TRUE)\n\n\n# Font\nf1 <- \"Open Sans\"\nfont_add_google(name = f1, family = f1)\nshowtext_auto()\n\n# Colors\npal <- paletteer_d(\"fishualize::Halichoeres_radiatus\")\n\n\n\nDirect plotting of missingness: A rowplot\n\n\nShow code\n\nmissing_row.plot <- data %>%\n  mutate(id = row_number()) %>%\n  gather(-id, key = \"key\", value = \"val\") %>%\n  mutate(isna = is.na(val)) %>%\n  ggplot(aes(key, id, fill = isna)) +\n  geom_raster(alpha=0.82) +\n  scale_fill_manual(name = \"\",\n                    values = pal[c(1,3)],\n                    labels = c(\"Present\", \"Missing\")) +\n  scale_x_discrete(position = \"top\", labels = wrap_format(10), expand = c(0,0)) +\n  scale_y_continuous(breaks = c(1, seq(10, nrow(data), by = 10)), expand = c(0,0), trans = \"reverse\") +\n  labs(x = \"\",\n       y = \"Row Number\") +\n  theme_bw() +\n  theme(legend.position = \"top\",\n        text = element_text(size = 15, family = f1),\n        panel.grid = element_blank())\n\nmissing_row.plot\n\n\n\n\nSummary table\nNext, I just want a table that summarizes the number of missing observations in each variable. For this, I will first make a data frame with the counts and percentages of missing in each variable:\n\n\nmissing_count <- data %>% is.na %>% as.data.frame() %>% \n      map_int(sum) %>% as.data.frame() \nmissing_count$variable = rownames(missing_count)\nmissing_count <- missing_count %>% rename(count = \".\") %>% \n  mutate(percent = 100*count/nrow(data)) %>% \n  relocate(variable)\n\n\n\nThen we can easily make this into a nice table using the gt package.\n\n\nShow code\n\n# Table -----\ncolumns_with_missing <- missing_count %>% \n  filter(count > 0) %>% \n  dplyr::select(variable) %>% \n  as.matrix()\n\nmissing_table <- missing_count %>% \n  dplyr::filter(variable %in% columns_with_missing) %>% # select only columns that have missing data\n  rename(Variable = \"variable\", \"# missing\" = count, \"% missing\" = percent) %>% # rename columns\n  gt() %>% # table\n  gt_plt_bar_pct(column = \"% missing\", scaled = TRUE, fill = pal[4]) %>%  # make the percentage column into a barchart\n  tab_style(style = cell_text( # change font\n    font = google_font(f1)), \n    locations = list(cells_column_labels(everything()), \n                     cells_body(columns = c(1,2))))\n\nmissing_table\n\n\n\n@import url(\"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vpiuhglodb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vpiuhglodb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vpiuhglodb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vpiuhglodb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vpiuhglodb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vpiuhglodb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vpiuhglodb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vpiuhglodb .gt_group_heading {\n  padding: 8px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vpiuhglodb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vpiuhglodb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vpiuhglodb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vpiuhglodb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vpiuhglodb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#vpiuhglodb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpiuhglodb .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpiuhglodb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vpiuhglodb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#vpiuhglodb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vpiuhglodb .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#vpiuhglodb .gt_left {\n  text-align: left;\n}\n\n#vpiuhglodb .gt_center {\n  text-align: center;\n}\n\n#vpiuhglodb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vpiuhglodb .gt_font_normal {\n  font-weight: normal;\n}\n\n#vpiuhglodb .gt_font_bold {\n  font-weight: bold;\n}\n\n#vpiuhglodb .gt_font_italic {\n  font-style: italic;\n}\n\n#vpiuhglodb .gt_super {\n  font-size: 65%;\n}\n\n#vpiuhglodb .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 65%;\n}\nVariable\n      # missing\n      % missing\n    Slow wave sleep\n14\nParadoxical sleep\n12\nTotal sleep\n4\nMaximum life span\n4\nGestation time\n4\n\n\nEuler diagram\nThe row-plot and table are both great for getting a quick overview of the data and the number of missing values. But especially with the table, we have no information about the interactions in the missingness, that is, are many of the missing values in the same row? We see this to some degree in the row-plot, but in this case we only have 62 observations. When the number of observations increases it becomes less clear when the missingness is in the same row. Toillustrate the overlaps in the missingness, I thought it would be illustrative with some kind of venn-diagram (I learned that the correct term for the type of plot that doesn’t show overlaps when the set is null is called an Euler diagram). I also wanted the size of the circles and overlaps to be proportional to the overlaps and number of missing observations. I found what I wanted in the package eulerr. There is a built-in-way to plot the resulting Euler diagrams, but I wanted to do it with ggplot2for a bit more freedom. It wasn’t too hard to extract the necessary numbers from the eulerr object (with good help from this vignette), and for plotting the ellipses themselves I use the ggforce package.\n\n\nShow code\n\n# Euler plot ------\neuler_mat <- data %>% is.na() %>% as.data.frame() %>% \n  dplyr::select(columns_with_missing[1:5]) \n\neuler_fit <- euler(euler_mat)\n\nellipses <- euler_fit$ellipses %>% mutate(variable = rownames(euler_fit$ellipses))\n\nmissing_euler <- ggplot(ellipses) +\n  geom_ellipse(aes(x0 = h, y0 = k, a = a, b = b, angle = phi, fill = variable), alpha = 0.5) +\n  scale_fill_manual(values = pal) +\n  coord_fixed() +\n  theme_void() +\n  theme(legend.title = element_blank())\n\nmissing_euler\n\n\n\n\nI really like the way this looks, but unfortunately it isn’t exact, especially when there are so few observations. For example, from this diagram it looks like there would be an observation that is missing the “Paradoxical sleep” measurement, but not the “Slow wave sleep”, due to the tiny un-overlapped sliver on the left. However, looking at the row-plot, we see that the set of animals missing values in “Paradoxical sleep”, is completely contained in the set of animals missing values in “Slow wave sleep”. The eulerr object gives us an overview over both the true counts in each set and the fitted values, and these could also be plotted on top of the circles, but I won’t do this here since there are so many intersections. Unfortunately, though the idea is fun, I don’t think this visualization will work very well in many cases.\n\n\neuler_fit$original.values[1:15]\n\n\n                    Slow wave sleep \n                                  0 \n                  Paradoxical sleep \n                                  0 \n                        Total sleep \n                                  0 \n                  Maximum life span \n                                  2 \n                     Gestation time \n                                  3 \n  Slow wave sleep&Paradoxical sleep \n                                  9 \n        Slow wave sleep&Total sleep \n                                  2 \n  Slow wave sleep&Maximum life span \n                                  0 \n     Slow wave sleep&Gestation time \n                                  0 \n      Paradoxical sleep&Total sleep \n                                  0 \nParadoxical sleep&Maximum life span \n                                  0 \n   Paradoxical sleep&Gestation time \n                                  0 \n      Total sleep&Maximum life span \n                                  0 \n         Total sleep&Gestation time \n                                  0 \n   Maximum life span&Gestation time \n                                  1 \n\nUpSet plot\nThere is another option that solves the problem of the impreciseness of the euler plot. I was first a little skeptical of this one just because I don’t think it is completely self-explanatory, and I think in most contexts, getting an overview of the missingness is something you want to do quick and dirty, and if visualizations are necessary you want them to be super intuitive. But this one is more precise than the Euler diagram and also shows the interactions, so to an audience that is already familiar with them (and maybe with some helpful annotations), I think it can be really useful. The plot is called an upset plot, and can be used as an alternative to Venn diagrams in other cases than just visualizing missingness. I use the implementation from the library naniar (which has several other useful functions for these types of things!)\n\n\nShow code\n\ngg_miss_upset(data, sets.bar.color = pal[1], main.bar.color = pal[4])\n\n\n\n\nThe bars on the left show the total number of missing values for each of the variables, and the vertical bars show the numbers missing in each intersection. My main complaint here is that although the documentation says that it returns a ggplot visualization, I don’t seem to be able to edit it using my typical ggplot ways, to change the color I instead had to use the arguments from UpSetR::upset.\nFor the project that motivated me to write this post, I made my own upset plot in ggplot2, but it is kind of hard-coded and the code is specific to that data. The approach in itself wasn’t too complicated though, basically you just convert the data to a data frame of the same size, but with true/false values indicating whether each observation is missing or not. Then it takes some manipulation to make the counts for each of the sets and interactions, and then the plots themselves are just standard bar charts. I also just used a dot-plot for the table-part of it, and then combined them all using patchwork (the package). If I’m able to generalize the code I will happily share it at a later point.\nAnother example\nAs another example, let’s look at this data set from mice with self-reported height and weight data from two studies, containing 2060 observations. A description of the data can be found by ?mice::selfreport.\n\n\nShow code\n\ndata(\"selfreport\")\n\ndata <- selfreport\n\n# Colors\npal <- paletteer_d(\"fishualize::Lutjanus_sebae\")\n\n\n\n\n\nShow code\n\nmissing_row.plot <- data %>%\n  mutate(id = row_number()) %>%\n  gather(-id, key = \"key\", value = \"val\") %>%\n  mutate(isna = is.na(val)) %>%\n  ggplot(aes(key, id, fill = isna)) +\n  geom_raster(alpha=0.82) +\n  scale_fill_manual(name = \"\",\n                    values = pal[c(1,4)],\n                    labels = c(\"Present\", \"Missing\")) +\n  scale_x_discrete(position = \"top\", labels = wrap_format(10), expand = c(0,0)) +\n  scale_y_continuous(breaks = c(1, seq(100, nrow(data), by = 100)), expand = c(0,0), trans = \"reverse\") +\n  labs(x = \"\",\n       y = \"Row Number\") +\n  theme_bw() +\n  theme(legend.position = \"top\",\n        text = element_text(size = 15, family = f1),\n        panel.grid = element_blank())\n\nmissing_row.plot\n\n\n\n\n\n\nShow code\n\nmissing_count <- data %>% is.na %>% as.data.frame() %>% \n      map_int(sum) %>% as.data.frame() \nmissing_count$variable = rownames(missing_count)\nmissing_count <- missing_count %>% rename(count = \".\") %>% \n  mutate(percent = 100*count/nrow(data)) %>% \n  relocate(variable)\n\n\n\n\n\nShow code\n\n# Table -----\ncolumns_with_missing <- missing_count %>% \n  filter(count > 0) %>% \n  dplyr::select(variable) %>% \n  as.matrix()\n\nmissing_table <- missing_count %>% \n  dplyr::filter(variable %in% columns_with_missing) %>% # select only columns that have missing data\n  rename(Variable = \"variable\", \"# missing\" = count, \"% missing\" = percent) %>% # rename columns\n  gt() %>% # table\n  gt_plt_bar_pct(column = \"% missing\", scaled = TRUE, fill = pal[4]) %>%  # make the percentage column into a barchart\n  tab_style(style = cell_text( # change font\n    font = google_font(f1)), \n    locations = list(cells_column_labels(everything()), \n                     cells_body(columns = c(1,2))))\n\nmissing_table\n\n\n\n@import url(\"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xnqxqaisgx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xnqxqaisgx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xnqxqaisgx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xnqxqaisgx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xnqxqaisgx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xnqxqaisgx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xnqxqaisgx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xnqxqaisgx .gt_group_heading {\n  padding: 8px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xnqxqaisgx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xnqxqaisgx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xnqxqaisgx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xnqxqaisgx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xnqxqaisgx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#xnqxqaisgx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnqxqaisgx .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xnqxqaisgx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xnqxqaisgx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#xnqxqaisgx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xnqxqaisgx .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#xnqxqaisgx .gt_left {\n  text-align: left;\n}\n\n#xnqxqaisgx .gt_center {\n  text-align: center;\n}\n\n#xnqxqaisgx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xnqxqaisgx .gt_font_normal {\n  font-weight: normal;\n}\n\n#xnqxqaisgx .gt_font_bold {\n  font-weight: bold;\n}\n\n#xnqxqaisgx .gt_font_italic {\n  font-style: italic;\n}\n\n#xnqxqaisgx .gt_super {\n  font-size: 65%;\n}\n\n#xnqxqaisgx .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 65%;\n}\nVariable\n      # missing\n      % missing\n    hm\n803\nwm\n803\nprg\n1657\nedu\n1257\netn\n1257\nbm\n803\n\n\n\n\nShow code\n\n# Euler plot ------\neuler_mat <- data %>% is.na() %>% as.data.frame() %>% \n  dplyr::select(columns_with_missing[1:5]) \n\neuler_fit <- euler(euler_mat)\n\nellipses <- euler_fit$ellipses %>% mutate(variable = rownames(euler_fit$ellipses))\n\nmissing_euler <- ggplot(ellipses) +\n  geom_ellipse(aes(x0 = h, y0 = k, a = a, b = b, angle = phi, fill = variable), alpha = 0.5) +\n  scale_fill_manual(values = pal) +\n  coord_fixed() +\n  theme_void() +\n  theme(legend.title = element_blank())\n\nmissing_euler\n\n\n\n\n(Actually, it looks like eulerr just displays five sets, while we here have six variables with missing values, so this isn’t great.)\n\n\nShow code\n\ngg_miss_upset(data, sets.bar.color = pal[2], main.bar.color = pal[4])\n\n\n\n\n\n\n\n",
    "preview": "posts/2021-10-28-ways-of-visualizing-missing-data/ways-of-visualizing-missing-data_files/figure-html5/figure.rowplot-1.png",
    "last_modified": "2021-11-04T15:57:31+01:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to My Blog",
    "description": "Welcome to our new blog, My Blog. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Nora Jones",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-10-28",
    "categories": [],
    "contents": "\n\n\n\n",
    "preview": {},
    "last_modified": "2021-10-28T14:56:41+02:00",
    "input_file": {}
  }
]
